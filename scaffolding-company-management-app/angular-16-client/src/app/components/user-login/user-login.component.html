<div>
  <div class="row justify-content-center">
    <div class="col-md-8">
      <h1>Logowanie</h1>
    </div>
  </div>

  <div class="row justify-content-center">
    <div class="register-form col-md-3">
      <div class="card card-container">
        <img
          id="profile-img"
          src="//ssl.gstatic.com/accounts/ui/avatar_2x.png"
          class="profile-img-card"
        />
        <form
          *ngIf="!isLoggedIn"
          name="form" role="form" (ngSubmit)="login()" [formGroup]="loginForm">

          <div class="form-group">
            <label class="form-control-label" for="username">Login</label>
            <input type="text"
                   class="form-control"
                   id="username"
                   placeholder="Podaj Login"
                   formControlName="username"
                   [ngClass]="{'is-invalid': submitted && f['username'].errors}">
            <div *ngIf="submitted && f['username'].errors" class="invalid-feedback">
              <div *ngIf="f['username'].errors['required']">Nazwa użytkownika jest wymagana</div>
            </div>
          </div>

          <div class="form-group">
            <label class="form-control-label" for="password">Hasło</label>
            <input type="password"
                   class="form-control"
                   id="password"
                   placeholder="Podaj hasło"
                   formControlName="password"
                   [ngClass]="{ 'is-invalid': submitted && f['password'].errors }">
            <div *ngIf="submitted && f['password'].errors" class="invalid-feedback">
              <div *ngIf="f['password'].errors['required']">Hasło jest wymagane</div>
            </div>
          </div>

          <button
            type="submit"
            class="btn btn-primary">Zaloguj
          </button>
          <button
            type="button"
            (click)="resetForm()"
            class="btn btn-warning float-right"
          >Wyczyść
          </button>
          <div class="form-group">
            <div *ngIf="f.submitted && isLoginFailed" class="alert alert-danger" role="alert">
              Login failed: {{ errorMessage }}
            </div>
          </div>
        </form>

        <div class="alert alert-success" *ngIf="isLoggedIn">
          Logged in as {{ roles }}.
        </div>

      </div>
    </div>
  </div>

</div>
